!function(){"use strict";function n(t){n[t.id]=t}n.xhr=function(n,t,e,a,o,c,i){if(t=t||[],o=n.local&&n.local())t[e||0]=n.callback?n.callback(o):o,a&&!~t.indexOf(void 0)&&a(t);else{for(i in(c=new XMLHttpRequest).onreadystatechange=function(){4==c.readyState&&(t[e||0]=c.status==(n.status||200)?n.callback?n.callback(c.responseText):c.responseText:null,a&&!~t.indexOf(void 0)&&a(t))},c.open(n.method||"GET",n.url,!0),n.headers)c.setRequestHeader(i,n.headers[i]);c.send(n.body)}},n.xhrs=function(t,e,a,o){for(o in a=t.map((function(){})),t)n.xhr(t[o],a,o,e)};window.Z=n;var t=function(t){var e=function(n){return n.replace(/^\/|\/$/g,"")}(t);n.xhr({url:"/json/data.json",local:function(){return!1},callback:function(n){localStorage.setItem("data",n);var t=JSON.parse(n);!function(n,t){var e=function(n){Object.keys(n).forEach((function(t){Z[t].state=n[t],Z[t].render()}))},a=[];Object.keys(n).forEach((function(n){Z[n]||a.push({url:"/js/".concat(t?t+"/":"").concat(n,".js")})})),a.length?Z.xhrs(a,(function(t){var a=document.createElement("script");a.innerHTML=t.join(""),document.head.appendChild(a),e(n)})):e(n)}(t[e]||t[404])}})};t(window.location.pathname),window.addEventListener("popstate",(function(n){t(window.location.pathname)})),window.addEventListener("click",(function(n){n.preventDefault();var e=n.target&&n.target.pathname;e&&e!==window.location.pathname&&(t(e),window.history.pushState({},null,e))}))}();
